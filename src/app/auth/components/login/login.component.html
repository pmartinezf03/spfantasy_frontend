<div class="auth-container">
  <!-- Fondo con imagen GIF animada de baloncesto -->
  <div class="background-image"></div>

  <div class="auth-box">
    <img src="https://i.imgur.com/YLu7obR.png" alt="Logo" height="100" style="margin-right: 1rem;" />
    <h2>Iniciar Sesión</h2>

    <form [formGroup]="loginForm" (ngSubmit)="iniciarSesion()">
      <div class="form-group">
        <label>Nombre de usuario:</label>
        <input type="text" formControlName="username" />
      </div>

      <div class="form-group">
        <label>Contraseña:</label>
        <input type="password" formControlName="password" />
      </div>

      <div class="form-group recaptcha-container">
        <re-captcha
          formControlName="recaptcha"
          (resolved)="resolved($event)"
          siteKey="6LeXEgUrAAAAAE1MO62uBhHxZYfa4uWPQhsLyCLY"
        ></re-captcha>
      </div>

      <button
        type="submit"
        class="btn"
        [disabled]="loginForm.invalid || !recaptchaResponse || loading"
      >
        Ingresar
      </button>

      <div *ngIf="showModal" class="modal-overlay">
        <div class="modal">
          <p-progressSpinner *ngIf="loading"></p-progressSpinner>
          <span *ngIf="!loading">Procesando...</span>
        </div>
      </div>

      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>

      <p class="auth-footer">
        ¿No tienes cuenta?
        <a routerLink="/auth/register">Regístrate</a>
      </p>
    </form>

    <p *ngIf="mensaje" class="mensaje">{{ mensaje }}</p>
  </div>
</div>
