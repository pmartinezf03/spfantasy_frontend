<div class="auth-container">
  <div class="background-image"></div>

  <div class="auth-box">
    <img src="https://i.imgur.com/YLu7obR.png" alt="Logo" height="100" style="margin-bottom: 1rem;" />

    <h2>Registro</h2>

    <form [formGroup]="registerForm" (ngSubmit)="registrarUsuario()">
      <div class="form-group">
        <label>Nombre de usuario:</label>
        <input type="text" formControlName="username" />
        <small *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
          Debe tener al menos 4 caracteres.
        </small>
      </div>

      <div class="form-group">
        <label>Correo electrónico:</label>
        <input type="email" formControlName="email" />
        <small *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
          Ingresa un correo válido.
        </small>
      </div>

      <div class="form-group">
        <label>Contraseña:</label>
        <input type="password" formControlName="password" />
        <small *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
          Debe tener al menos 8 caracteres, incluir mayúscula, minúscula y un número.
        </small>
      </div>

      <div class="form-group">
        <re-captcha
          (resolved)="onCaptchaResolved($event!)"
          [siteKey]="recaptchaSiteKey">
        </re-captcha>
        <small *ngIf="captchaInvalido" class="captcha-error">
          Por favor, verifica que no eres un robot.
        </small>
      </div>

      <button type="submit" class="btn" [disabled]="registerForm.invalid">
        Registrarse
      </button>
    </form>

    <p>
      ¿Ya tienes una cuenta?
      <a routerLink="/auth/login">Iniciar Sesión</a>
    </p>

    <p *ngIf="mensaje" class="mensaje">{{ mensaje }}</p>
  </div>
</div>
