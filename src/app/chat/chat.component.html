<div class="chat-wrapper-whatsapp">

  <!-- ðŸ“‹ PANEL IZQUIERDO -->
  <div class="sidebar-whatsapp">

    <!-- ðŸ‘¥ Lista de Contactos -->
    <app-contact-list
      *ngIf="currentUser"
      [usuarioActual]="currentUser"
      [notificacionesPendientes]="notificacionesPendientes"
      [mensajesPorConversacion]="mensajesPorConversacion"
      [ultimosLeidos]="ultimosLeidos"
      (usuarioSeleccionado)="onUsuarioSeleccionado($event)">
    </app-contact-list>

    <!-- ðŸ“‚ Lista de Grupos -->
    <app-grupos
      *ngIf="currentUser"
      [usuarioActual]="currentUser"
      [notificacionesPendientes]="notificacionesPendientes"
      [mensajesPorConversacion]="mensajesPorConversacion"
      [ultimosLeidos]="ultimosLeidos"
      (grupoSeleccionado)="onGrupoSeleccionado($event)">
    </app-grupos>

  </div>

  <!-- ðŸ’¬ PANEL DERECHO -->
  <div class="main-chat-whatsapp" *ngIf="currentUser">

    <!-- ðŸ§  Cabecera del Chat -->
    <div class="chat-header-whatsapp">
      <div class="chat-nombre">
        {{ contactoSeleccionado?.username || grupoSeleccionado?.nombre || 'Selecciona un chat' }}
      </div>
    </div>

    <!-- ðŸ’¬ Ventana de ConversaciÃ³n -->
    <app-chat-window
      [mensajes]="messages"
      [usuarioActual]="currentUser"
      (enviarMensaje)="sendMessage($event)">
    </app-chat-window>

  </div>
</div>
