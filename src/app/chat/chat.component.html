<div
  class="flex h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black text-white font-sans"
>
  <!-- ðŸ“‹ PANEL IZQUIERDO -->
  <div
    class="w-80 bg-gray-800 border-r border-gray-700 p-4 flex flex-col gap-4 overflow-y-auto"
  >
    <!-- ðŸ‘¥ Contactos -->
    <app-contact-list
      *ngIf="currentUser"
      [usuarioActual]="currentUser"
      [notificacionesPendientes]="notificacionesPendientes"
      [mensajesPorConversacion]="mensajesPorConversacion"
      [ultimosLeidos]="ultimosLeidos"
      (usuarioSeleccionado)="onUsuarioSeleccionado($event)"
    >
    </app-contact-list>

    <!-- ðŸ“‚ Grupos -->
    <app-grupos
      *ngIf="currentUser"
      [usuarioActual]="currentUser"
      [notificacionesPendientes]="notificacionesPendientes"
      [mensajesPorConversacion]="mensajesPorConversacion"
      [ultimosLeidos]="ultimosLeidos"
      (grupoSeleccionado)="onGrupoSeleccionado($event)"
    >
    </app-grupos>
  </div>

  <!-- ðŸ’¬ PANEL DERECHO -->
  <div class="flex-1 flex flex-col bg-gray-900">
    <!-- ðŸ§  CABECERA -->
    <div
      class="h-16 flex items-center justify-between px-6 bg-gray-800 border-b border-gray-700 shadow-md"
    >
      <div class="text-lg font-bold text-fantasyGold tracking-wide">
        {{
          contactoSeleccionado?.username ||
            grupoSeleccionado?.nombre ||
            "Selecciona un chat"
        }}
      </div>
    </div>

      <app-chat-window
        *ngIf="currentUser"
        [mensajes]="messages"
        [usuarioActual]="currentUser"
        (enviarMensaje)="sendMessage($event)"
        class="flex-1 overflow-y-auto"
      >
      </app-chat-window>
  </div>
</div>
