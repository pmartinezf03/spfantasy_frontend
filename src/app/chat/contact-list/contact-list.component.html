<div class="panel-whatsapp contactos-panel">
  <h2 class="seccion-titulo flex justify-between items-center">👥 Contactos</h2>

  <!-- 🔍 Buscador de contactos -->
  <div class="buscador mb-2">
    <input
      type="text"
      [(ngModel)]="filtroContacto"
      placeholder="Buscar alias o nombre..."
      class="input w-full"
    />
  </div>

  <!-- ➕ Añadir contacto por alias -->
  <div class="add-contact">
    <input
      type="text"
      [(ngModel)]="nuevoContactoAlias"
      placeholder="Alias del contacto..."
      class="input"
    />
    <button (click)="agregarContacto()" class="boton">➕ Añadir</button>
    <p
      class="mensaje-info"
      [ngClass]="{
        'mensaje-exito': mensaje.startsWith('✅'),
        'mensaje-error': mensaje.startsWith('❌') || mensaje.startsWith('⚠️')
      }"
    >
      {{ mensaje }}
    </p>
  </div>

  <!-- 📋 Lista de contactos -->
  <ul class="lista-contactos">
    <li
      *ngFor="let usuario of usuarios | filtroContactos: filtroContacto; trackBy: trackByUsuarioId"
      (click)="seleccionarContacto(usuario.id)"
      class="contacto-item"
    >
      <div class="avatar">
        {{ usuario.username.charAt(0).toUpperCase() }}
      </div>

      <div class="datos">
        <div class="nombre">
          {{ usuario.username }}
          <small *ngIf="usuario.alias" class="alias">{{ "@" + usuario.alias }}</small>
        </div>
        <div class="email">{{ usuario.email }}</div>
      </div>
    </li>
  </ul>
</div>
