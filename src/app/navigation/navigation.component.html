<nav
  class="w-full sticky top-0 z-50 bg-gradient-to-r from-fantasyDark via-black to-fantasyDark shadow-md px-4 py-3 flex items-center justify-between"
>
  <!-- Logo -->
  <div class="flex items-center gap-3">
    <img src="https://i.imgur.com/YLu7obR.png" alt="Logo" class="h-10 w-auto" />
    <span class="text-xl text-white font-futuristic">SP Fantasy</span>
  </div>

  <!-- Menú principal -->
  <ul
    class="hidden md:flex gap-5 text-white font-semibold text-sm uppercase tracking-wide"
  >
    <li><a routerLink="/" routerLinkActive="text-fantasyGold">🏠 Inicio</a></li>
    <li>
      <a routerLink="/estadisticas-liga" routerLinkActive="text-fantasyGold"
        >📊 Estadísticas</a
      >
    </li>
    <li>
      <a routerLink="/noticias" routerLinkActive="text-fantasyGold"
        >📰 Noticias</a
      >
    </li>
    <li *ngIf="isUserLoggedIn">
      <a routerLink="/mercado" routerLinkActive="text-fantasyGold"
        >🛒 Mercado</a
      >
    </li>
    <li *ngIf="isUserLoggedIn">
      <a routerLink="/plantilla" routerLinkActive="text-fantasyGold"
        >🏀 Mi Plantilla</a
      >
    </li>
    <li *ngIf="isUserLoggedIn">
      <a routerLink="/ligas" routerLinkActive="text-fantasyGold">🏆 Ligas</a>
    </li>
    <li *ngIf="isUserLoggedIn">
      <a routerLink="/chat" routerLinkActive="text-fantasyGold">💬 Chat</a>
    </li>
    <li *ngIf="isUserLoggedIn">
      <a routerLink="/ofertas" routerLinkActive="text-fantasyGold">
        💰 {{ tieneOfertasNuevas ? "Ofertas 🔴" : "Ofertas" }}
      </a>
    </li>
    <li *ngIf="isUserLoggedIn">
      <a routerLink="/comparador" routerLinkActive="text-fantasyGold">
        📈 Comparador
      </a>
    </li>
  </ul>

  <!-- Usuario -->
  <div
    *ngIf="isUserLoggedIn && usuarioLogueado"
    class="text-right text-white text-sm font-semibold flex flex-col items-end"
  >
    <div
      class="flex items-center gap-2 cursor-pointer hover:underline"
      (click)="router.navigate(['/perfil'])"
    >
      <div
        class="avatar-navbar"
        [ngStyle]="{
          'background-image':
            'url(' + (avatarBase64 || 'assets/default-avatar.png') + ')'
        }"
      ></div>

      <span>{{ usuarioLogueado }}</span>
    </div>

    <div class="text-fantasyGold">
      💰 {{ usuarioDinero | currency : "EUR" }}
    </div>
    <div class="text-xs text-red-400">
      ({{ usuarioDineroPendiente | currency : "EUR" }} pendientes)
    </div>
    <div
      *ngIf="esVip()"
      class="vip-badge animate__animated animate__pulse animate__infinite"
    >
      🌟 VIP
    </div>

    <button
      (click)="logout()"
      class="mt-1 text-xs text-fantasyRed underline hover:text-red-300 transition-all"
    >
      Cerrar sesión
    </button>
  </div>

  <!-- Login -->
  <div *ngIf="!isUserLoggedIn">
    <button
      (click)="reiniciarSesion()"
      class="text-white font-bold px-4 py-1 bg-fantasyBlue hover:bg-fantasyGold rounded-md shadow transition-all"
    >
      Iniciar Sesión
    </button>
  </div>
</nav>
